{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pachihhil/Projects/BuildOps/fullstack-coding-challange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pachihhil/Projects/BuildOps/fullstack-coding-challange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/pachihhil/Projects/BuildOps/fullstack-coding-challange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/pachihhil/Projects/BuildOps/fullstack-coding-challange/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  mutation update(\\n    $id: ID!\\n    $employeeSkillsId: ID\\n    $firstName: String!\\n    $lastName: String!\\n  ) {\\n    updateEmployee(\\n      input: {\\n        id: $id\\n        employeeSkillsId: $employeeSkillsId\\n        firstName: $firstName\\n        lastName: $lastName\\n      }\\n    ) {\\n      firstName\\n      id\\n      lastName\\n      updatedAt\\n      createdAt\\n    }\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  mutation create(\\n    $employeeSkillsId: ID\\n    $firstName: String!\\n    $lastName: String!\\n  ) {\\n    createEmployee(\\n      input: {\\n        employeeSkillsId: $employeeSkillsId\\n        firstName: $firstName\\n        lastName: $lastName\\n      }\\n    ) {\\n      firstName\\n      id\\n      lastName\\n      updatedAt\\n      createdAt\\n    }\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  query {\\n    listEmployees {\\n      items {\\n        createdAt\\n        firstName\\n        id\\n        lastName\\n        updatedAt\\n        skills {\\n          id\\n          name\\n          updatedAt\\n          createdAt\\n        }\\n      }\\n    }\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useState}from\"react\";import{useQuery,useMutation,gql}from\"@apollo/client\";import{API,graphqlOperation}from\"aws-amplify\";import{createStyles,makeStyles}from\"@material-ui/core/styles\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Paper from\"@material-ui/core/Paper\";import{Delete,Edit}from\"@material-ui/icons\";import{EditEmployee}from\"./EditEmployees\";import{DialogModal}from\"../common\";import{Typography,Toolbar}from\"@material-ui/core\";import{PrimaryButton,EmptyMessage}from\"../common\";var useStyles=makeStyles(function(theme){return createStyles({tableCont:{marginLeft:theme.spacing(3),marginRight:theme.spacing(3),width:\"auto\"},table:{minWidth:650},tableHeader:{background:\"#3f51b52e\"},headerCell:{fontSize:\"20px\",fontWeight:600},header:{flexGrow:1,marginTop:theme.spacing(2),marginBottom:theme.spacing(2)}});});export var GET_EMPLOYEES=gql(_templateObject());var ADD_EMPLOYEE=gql(_templateObject2());var UPDATE_EMPLOYEE=gql(_templateObject3());var Employees=function Employees(props){var _data$listEmployees,_data$listEmployees2;var classes=useStyles();var _useQuery=useQuery(GET_EMPLOYEES),data=_useQuery.data,refetch=_useQuery.refetch;var _useMutation=useMutation(ADD_EMPLOYEE),_useMutation2=_slicedToArray(_useMutation,1),addEmployee=_useMutation2[0];var _useMutation3=useMutation(UPDATE_EMPLOYEE),_useMutation4=_slicedToArray(_useMutation3,1),updateEmployee=_useMutation4[0];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpenEditDialog=_useState2[0],setOpenEditDialog=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),isDelete=_useState4[0],setDelete=_useState4[1];var history=props.history,params=props.match.params;useEffect(function(){if(params.id){setOpenEditDialog(true);}},[params]);var handleClose=function handleClose(){setOpenEditDialog(false);history.push(\"/employees\");};var handleDelete=function handleDelete(id){setDelete(id);};var saveEmployee=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(params.action===\"edit\"){updateEmployee({variables:{id:params.id,firstName:data===null||data===void 0?void 0:data.firstName,lastName:data===null||data===void 0?void 0:data.lastName,employeeSkillsId:data===null||data===void 0?void 0:data.employeeSkillsId}});}else{addEmployee({variables:{firstName:data===null||data===void 0?void 0:data.firstName,lastName:data===null||data===void 0?void 0:data.lastName,employeeSkillsId:data===null||data===void 0?void 0:data.employeeSkillsId}});}refetch();handleClose();case 3:case\"end\":return _context.stop();}}},_callee);}));return function saveEmployee(_x){return _ref.apply(this,arguments);};}();var onDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var deleteEmployee;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:deleteEmployee=\"mutation{\\n      deleteEmployee(input: {id: \\\"\".concat(isDelete,\"\\\"}) {\\n      id\\n    } \\n  }\");_context2.next=3;return API.graphql(graphqlOperation(deleteEmployee)).then(function(res){setDelete(null);});case 3:refetch();case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function onDelete(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Typography,{className:classes.header,variant:\"h5\",color:\"inherit\"},\"Employees\"),/*#__PURE__*/React.createElement(PrimaryButton,{text:\"Add New\",onClick:function onClick(){return history.push(\"/employees/new\");}})),/*#__PURE__*/React.createElement(TableContainer,{className:classes.tableCont,component:Paper},/*#__PURE__*/React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,{className:classes.tableHeader},/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{className:classes.headerCell},\"Name\"),/*#__PURE__*/React.createElement(TableCell,{className:classes.headerCell,align:\"center\"},\"Skills\"),/*#__PURE__*/React.createElement(TableCell,{className:classes.headerCell,align:\"right\"},\"Actions\"))),(data===null||data===void 0?void 0:(_data$listEmployees=data.listEmployees)===null||_data$listEmployees===void 0?void 0:_data$listEmployees.items.length)?/*#__PURE__*/React.createElement(TableBody,null,data===null||data===void 0?void 0:(_data$listEmployees2=data.listEmployees)===null||_data$listEmployees2===void 0?void 0:_data$listEmployees2.items.map(function(row){var _row$skills;return/*#__PURE__*/React.createElement(TableRow,{key:row.id},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\"},\"\".concat(row===null||row===void 0?void 0:row.firstName,\" \").concat(row===null||row===void 0?void 0:row.lastName)),/*#__PURE__*/React.createElement(TableCell,{align:\"center\"},row===null||row===void 0?void 0:(_row$skills=row.skills)===null||_row$skills===void 0?void 0:_row$skills.name),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Edit,{onClick:function onClick(){return history.push(\"/employees/\".concat(row.id,\"/edit\"));}}),/*#__PURE__*/React.createElement(Delete,{onClick:function onClick(){return handleDelete(row.id);}})));})):/*#__PURE__*/React.createElement(EmptyMessage,{message:\"No data found\"}))),isOpenEditDialog&&/*#__PURE__*/React.createElement(EditEmployee,Object.assign({isOpen:isOpenEditDialog,handleClose:handleClose,onSave:saveEmployee},props)),isDelete&&/*#__PURE__*/React.createElement(DialogModal,{isOpen:!!isDelete,handleCancel:function handleCancel(){return handleDelete(null);},onConfirm:onDelete}));};export{Employees};","map":{"version":3,"sources":["/Users/pachihhil/Projects/BuildOps/fullstack-coding-challange/src/components/pages/Employees.js"],"names":["React","useEffect","useState","useQuery","useMutation","gql","API","graphqlOperation","createStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Delete","Edit","EditEmployee","DialogModal","Typography","Toolbar","PrimaryButton","EmptyMessage","useStyles","theme","tableCont","marginLeft","spacing","marginRight","width","table","minWidth","tableHeader","background","headerCell","fontSize","fontWeight","header","flexGrow","marginTop","marginBottom","GET_EMPLOYEES","ADD_EMPLOYEE","UPDATE_EMPLOYEE","Employees","props","classes","data","refetch","addEmployee","updateEmployee","isOpenEditDialog","setOpenEditDialog","isDelete","setDelete","history","params","match","id","handleClose","push","handleDelete","saveEmployee","action","variables","firstName","lastName","employeeSkillsId","onDelete","deleteEmployee","graphql","then","res","listEmployees","items","length","map","row","skills","name"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport { API, graphqlOperation } from \"aws-amplify\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { Delete, Edit } from \"@material-ui/icons\";\nimport { EditEmployee } from \"./EditEmployees\";\nimport { DialogModal } from \"../common\";\nimport { Typography, Toolbar } from \"@material-ui/core\";\nimport { PrimaryButton, EmptyMessage } from \"../common\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    tableCont: {\n      marginLeft: theme.spacing(3),\n      marginRight: theme.spacing(3),\n      width: \"auto\",\n    },\n    table: {\n      minWidth: 650,\n    },\n    tableHeader: {\n      background: \"#3f51b52e\",\n    },\n    headerCell: {\n      fontSize: \"20px\",\n      fontWeight: 600,\n    },\n    header: {\n      flexGrow: 1,\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n    },\n  })\n);\n\nexport const GET_EMPLOYEES = gql`\n  query {\n    listEmployees {\n      items {\n        createdAt\n        firstName\n        id\n        lastName\n        updatedAt\n        skills {\n          id\n          name\n          updatedAt\n          createdAt\n        }\n      }\n    }\n  }\n`;\nconst ADD_EMPLOYEE = gql`\n  mutation create(\n    $employeeSkillsId: ID\n    $firstName: String!\n    $lastName: String!\n  ) {\n    createEmployee(\n      input: {\n        employeeSkillsId: $employeeSkillsId\n        firstName: $firstName\n        lastName: $lastName\n      }\n    ) {\n      firstName\n      id\n      lastName\n      updatedAt\n      createdAt\n    }\n  }\n`;\n\nconst UPDATE_EMPLOYEE = gql`\n  mutation update(\n    $id: ID!\n    $employeeSkillsId: ID\n    $firstName: String!\n    $lastName: String!\n  ) {\n    updateEmployee(\n      input: {\n        id: $id\n        employeeSkillsId: $employeeSkillsId\n        firstName: $firstName\n        lastName: $lastName\n      }\n    ) {\n      firstName\n      id\n      lastName\n      updatedAt\n      createdAt\n    }\n  }\n`;\n\nconst Employees = (props) => {\n  const classes = useStyles();\n  const { data, refetch } = useQuery(GET_EMPLOYEES);\n  const [addEmployee] = useMutation(ADD_EMPLOYEE);\n  const [updateEmployee] = useMutation(UPDATE_EMPLOYEE);\n  const [isOpenEditDialog, setOpenEditDialog] = useState(false);\n  const [isDelete, setDelete] = useState(null);\n  const {\n    history,\n    match: { params },\n  } = props;\n\n  useEffect(() => {\n    if (params.id) {\n      setOpenEditDialog(true);\n    }\n  }, [params]);\n\n  const handleClose = () => {\n    setOpenEditDialog(false);\n    history.push(`/employees`);\n  };\n\n  const handleDelete = (id) => {\n    setDelete(id);\n  };\n  const saveEmployee = async (data) => {\n    if (params.action === \"edit\") {\n      updateEmployee({\n        variables: {\n          id: params.id,\n          firstName: data?.firstName,\n          lastName: data?.lastName,\n          employeeSkillsId: data?.employeeSkillsId,\n        },\n      });\n    } else {\n      addEmployee({\n        variables: {\n          firstName: data?.firstName,\n          lastName: data?.lastName,\n          employeeSkillsId: data?.employeeSkillsId,\n        },\n      });\n    }\n    refetch();\n    handleClose();\n  };\n  const onDelete = async () => {\n    const deleteEmployee = `mutation{\n      deleteEmployee(input: {id: \"${isDelete}\"}) {\n      id\n    } \n  }`;\n    await API.graphql(graphqlOperation(deleteEmployee)).then((res) => {\n      setDelete(null);\n    });\n    refetch();\n  };\n\n  return (\n    <div>\n      <Toolbar>\n        <Typography className={classes.header} variant=\"h5\" color=\"inherit\">\n          Employees\n        </Typography>\n        <PrimaryButton\n          text=\"Add New\"\n          onClick={() => history.push(`/employees/new`)}\n        />\n      </Toolbar>\n      <TableContainer className={classes.tableCont} component={Paper}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead className={classes.tableHeader}>\n            <TableRow>\n              <TableCell className={classes.headerCell}>Name</TableCell>\n              <TableCell className={classes.headerCell} align=\"center\">\n                Skills\n              </TableCell>\n              <TableCell className={classes.headerCell} align=\"right\">\n                Actions\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          {data?.listEmployees?.items.length ? (\n            <TableBody>\n              {data?.listEmployees?.items.map((row) => (\n                <TableRow key={row.id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {`${row?.firstName} ${row?.lastName}`}\n                  </TableCell>\n                  <TableCell align=\"center\">{row?.skills?.name}</TableCell>\n                  <TableCell align=\"right\">\n                    <Edit\n                      onClick={() => history.push(`/employees/${row.id}/edit`)}\n                    />\n                    <Delete onClick={() => handleDelete(row.id)} />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          ) : (\n            <EmptyMessage message=\"No data found\" />\n          )}\n        </Table>\n      </TableContainer>\n      {isOpenEditDialog && (\n        <EditEmployee\n          isOpen={isOpenEditDialog}\n          handleClose={handleClose}\n          onSave={saveEmployee}\n          {...props}\n        />\n      )}\n      {isDelete && (\n        <DialogModal\n          isOpen={!!isDelete}\n          handleCancel={() => handleDelete(null)}\n          onConfirm={onDelete}\n        />\n      )}\n    </div>\n  );\n};\nexport { Employees };\n"]},"metadata":{},"sourceType":"module"}